<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>User Guide · COSMO.jl</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-134239283-1', 'auto');
ga('send', 'pageview');
</script><link rel="canonical" href="https://oxfordcontrol.github.io/COSMO.jl/stable/guide/index.html"/><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/><script src="../assets/github_buttons.js"></script></head><body><nav class="toc"><a href="../index.html"><img class="logo" src="../assets/logo.png" alt="COSMO.jl logo"/></a><h1>COSMO.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li class="current"><a class="toctext" href>User Guide</a><ul class="internal"><li><a class="toctext" href="#Model-1">Model</a></li><li><a class="toctext" href="#Objective-Function-1">Objective Function</a></li><li><a class="toctext" href="#Constraints-1">Constraints</a></li><li><a class="toctext" href="#Convex-Sets-1">Convex Sets</a></li><li><a class="toctext" href="#Settings-1">Settings</a></li><li><a class="toctext" href="#Results-1">Results</a></li></ul></li><li><a class="toctext" href="../jump/">JuMP Interface</a></li><li><a class="toctext" href="../method/">Method</a></li><li><a class="toctext" href="../examples/">Examples</a></li><li><a class="toctext" href="../citing/">Citing COSMO</a></li><li><a class="toctext" href="../contributing/">Contributing</a></li><li><a class="toctext" href="../api/">API Reference</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>User Guide</a></li></ul><a class="edit-page" href="https://github.com/oxfordcontrol/COSMO.jl/blob/master/docs/src/guide.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>User Guide</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="User-Guide-1" href="#User-Guide-1">User Guide</a></h1><p>This user guide describes the basic structures and functions to define an optimisation problem, to solve the problem and to analyse the result. If you want to use <code>JuMP</code> to describe the problem, see the <a href="../jump/#JuMP-Interface-1">JuMP Interface</a> section.</p><h2><a class="nav-anchor" id="Model-1" href="#Model-1">Model</a></h2><p>The problem data, user settings and workspace variables are all stored in a <code>Model</code>. To get started define an empty model:</p><pre><code class="language-julia">m = COSMO.Model()</code></pre><p>To initialize the model with an optimisation problem we need to define three more things:</p><ul><li>the objective function, i.e. the matrix <code>P</code> and the vector <code>q</code> in <span>$\frac{1}{2}x^\top P x + q^\top x$</span></li><li>an array of constraints</li><li>a <code>Settings</code> object that specifies how COSMO solves the problem <em>(optional)</em></li></ul><h2><a class="nav-anchor" id="Objective-Function-1" href="#Objective-Function-1">Objective Function</a></h2><p>To set the objective function of your optimisation problem simply define the square positive semidefinite matrix <span>$P \in \mathrm{R}^{n\times n}$</span> and the vector <span>$q \in \mathrm{R}^{n}$</span>. You might have to transform your optimisation problem for this step.</p><h2><a class="nav-anchor" id="Constraints-1" href="#Constraints-1">Constraints</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="COSMO.Constraint" href="#COSMO.Constraint"><code>COSMO.Constraint</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">Constraint(A, b, convex_set, dim = 0, indices = 0:0)</code></pre><p>Creates a COSMO constraint: <code>Ax + b ∈ convex_set</code>.</p><p>By default the following convex sets are supported: <code>ZeroSet</code>, <code>Nonnegatives</code>, <code>SecondOrderCone</code>, <code>PsdCone</code>, <code>PsdConeTriangle</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; Constraint([1 0;0 1], zeros(2), COSMO.Nonnegatives)
Constraint
Size of A: (2, 2)
ConvexSet: COSMO.Nonnegatives</code></pre><hr/><p>The optional arguments <code>dim</code> and <code>indices</code> can be used to specify A and b for subparts of variable <code>x</code>. If <code>x</code> has dimension <code>dim = 4</code>, then x[2] and x[3] can be constrained to the zero cone in the following way:</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; c = Constraint([1 0;0 1], zeros(2), COSMO.ZeroSet, 4, 2:3)
Constraint
Size of A: (2, 4)
ConvexSet: COSMO.ZeroSet</code></pre><p>Notice that extra columns of A have been added automatically.</p><pre><code class="language-none">julia&gt;Matrix(c.A)
2×4 Array{Float64,2}:
0.0  1.0  0.0  0.0
0.0  0.0  1.0  0.0</code></pre></div></div></section><h2><a class="nav-anchor" id="Convex-Sets-1" href="#Convex-Sets-1">Convex Sets</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="COSMO.ZeroSet" href="#COSMO.ZeroSet"><code>COSMO.ZeroSet</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">ZeroSet(dim)</code></pre><p>Creates the zero set <span>$\{ 0 \}^{dim}$</span> of dimension <code>dim</code>. If <code>x</code> ∈ <code>ZeroSet</code> then all entries of x are zero.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="COSMO.Nonnegatives" href="#COSMO.Nonnegatives"><code>COSMO.Nonnegatives</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">Nonnegatives(dim)</code></pre><p>Creates the nonnegative orthant <span>$\{ x \in \mathbb{R}^{dim} : x \ge 0 \}$</span>  of dimension <code>dim</code>.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="COSMO.SecondOrderCone" href="#COSMO.SecondOrderCone"><code>COSMO.SecondOrderCone</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">SecondOrderCone(dim)</code></pre><p>Creates the second-order cone (or Lorenz cone) <span>$\{ (t,x) \in \mathrm{R}^{dim} : || x ||_2  \leq t \}$</span>.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="COSMO.PsdCone" href="#COSMO.PsdCone"><code>COSMO.PsdCone</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">PsdCone(dim)</code></pre><p>Creates the cone of symmetric positive semidefinite matrices <span>$\mathcal{S}_+^{dim}`. The entries of the matrix `X` are stored column-by-column in the vector `x` of dimension `dim`. Accordingly$</span>X \in \mathbb{S}<em>+ \Rightarrow x \in \mathcal{S}</em>+^{dim}<span>$, where$</span>X = \text{mat}(x)``.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="COSMO.PsdConeTriangle" href="#COSMO.PsdConeTriangle"><code>COSMO.PsdConeTriangle</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">PsdConeTriangle(dim)</code></pre><p>Creates the cone of symmetric positive semidefinite matrices. The entries of the upper-triangular part of matrix <code>X</code> are stored in the vector <code>x</code> of dimension <code>dim</code>. A <span>$r \times r$</span> matrix has <span>$r(r+1)/2$</span> upper triangular elements and results in a vector of <span>$\mathrm{dim} = r(r+1)/2$</span>.</p><p><strong>Examples</strong></p><p>The matrix</p><div>\[\begin{bmatrix} x_1 &amp; x_2 &amp; x_4\\ x_2 &amp; x_3 &amp; x_5\\ x_4 &amp; x_5 &amp; x_6 \end{bmatrix}\]</div><p>is transformed to the vector <span>$[x_1, x_2, x_3, x_4, x_5, x_6]^\top$</span> with corresponding constraint  <code>PsdConeTriangle(6)</code>.</p></div></div></section><h2><a class="nav-anchor" id="Settings-1" href="#Settings-1">Settings</a></h2><p>Settings can be specified using the <code>COSMO.Settings</code> struct. The following settings are available:</p><table><tr><th>Argument</th><th>Description</th><th>Values (default)</th></tr><tr><td>rho</td><td>ADMM rho step</td><td>0.1</td></tr><tr><td>sigma</td><td>ADMM sigma step</td><td>1e-6</td></tr><tr><td>alpha</td><td>Relaxation parameter</td><td>1.6</td></tr><tr><td>eps_abs</td><td>Absolute residual tolerance</td><td>1e-4</td></tr><tr><td>eps_rel</td><td>Relative residual tolerance</td><td>1e-4</td></tr><tr><td>eps_prim_inf</td><td>Primal infeasibility tolerance</td><td>1e-4</td></tr><tr><td>eps_dual_inf</td><td>Dual infeasibility tolerance</td><td>1e-4</td></tr><tr><td>max_iter</td><td>Maximum number of iterations</td><td>2500</td></tr><tr><td>verbose</td><td>Verbose printing</td><td>false</td></tr><tr><td>verbose_timing</td><td>Verbose timing</td><td>false</td></tr><tr><td>check_termination</td><td>Check termination interval</td><td>40</td></tr><tr><td>check_infeasibility</td><td>Check infeasibility interval</td><td>40</td></tr><tr><td>scaling</td><td>Number of scaling iterations</td><td>10</td></tr><tr><td>adaptive_rho</td><td>Automatic adaptation of step size parameter</td><td>true</td></tr><tr><td>time_limit</td><td>set solver time limit in s</td><td>0.0</td></tr></table><p>For more low-level settings, see the <code>Settings</code> type definition in <code>/src/settings.jl</code>.</p><h2><a class="nav-anchor" id="Results-1" href="#Results-1">Results</a></h2><p>After attempting to solve the problem, COSMO will return a result object with the following fields:</p><table><tr><th>Fieldname</th><th>Type</th><th>Description</th></tr><tr><td>x</td><td>Vector{Float64}</td><td>Primal variable</td></tr><tr><td>y</td><td>Vector{Float64}</td><td>Dual variable</td></tr><tr><td>s</td><td>Vector{Float64}</td><td>(Primal) set variable</td></tr><tr><td>obj_val</td><td>Float64</td><td>Objective value</td></tr><tr><td>iter</td><td>Int64</td><td>Number of iterations</td></tr><tr><td>status</td><td>Symbol</td><td>Solution status</td></tr><tr><td>info</td><td>COSMO.ResultInfo</td><td>Struct with more information</td></tr><tr><td>times</td><td>COSMO.ResultTimes</td><td>Struct with several measured times</td></tr></table><h3><a class="nav-anchor" id="Status-Codes-1" href="#Status-Codes-1">Status Codes</a></h3><p>COSMO will return one of the following statuses:</p><table><tr><th>Status Code</th><th>Description</th></tr><tr><td>:Solved</td><td>A optimal solution was found</td></tr><tr><td>:Unsolved</td><td>Default value</td></tr><tr><td>:Max_iter_reached</td><td>Solver reached iteration limit (set with <code>Settings.max_iter</code>)</td></tr><tr><td>:Time_limit_reached</td><td>Solver reached time limit (set with <code>Settings.time_limit</code>)</td></tr><tr><td>:Primal_infeasible</td><td>Problem is primal infeasible</td></tr><tr><td>:Dual_infeasible</td><td>Problem is dual infeasible</td></tr></table><h3><a class="nav-anchor" id="Timings-1" href="#Timings-1">Timings</a></h3><p>If <code>settings.verbose_timing</code> is set to <code>true</code>, COSMO will report the following times in <code>result.times</code>:</p><table><tr><th>Time Name</th><th>Description</th></tr><tr><td>solver_time</td><td>Total time used to solve the problem</td></tr><tr><td>setup_time</td><td>Setup time = graph_time + factor_time</td></tr><tr><td>graph_time</td><td>Time used to perform chordal decomposition</td></tr><tr><td>factor_time</td><td>Time used to factor the system of linear equations</td></tr><tr><td>iter_time</td><td>Time spent in iteration loop</td></tr><tr><td>proj_time</td><td>Time spent in projection functions</td></tr><tr><td>post_time</td><td>Time used for post processing</td></tr></table><p>It holds: <code>solver_time</code> = <code>setup_time</code>+ <code>iter_time</code> + <code>post_time</code>, <code>setup_time</code> = <code>graph_time</code>+ <code>factor_time</code>, <code>proj_time</code> is a subset of <code>iter_time</code>.</p><footer><hr/><a class="previous" href="../"><span class="direction">Previous</span><span class="title">Home</span></a><a class="next" href="../jump/"><span class="direction">Next</span><span class="title">JuMP Interface</span></a></footer></article></body></html>
